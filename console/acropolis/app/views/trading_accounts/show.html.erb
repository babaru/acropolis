<% content_for :page_title do %>
<%= @trading_account.name %> [<%= @trading_account.account_number %>]
<% end %>

<% content_for :page_header_right_panel do %>

<div class="btn-toolbar pull-right tooltip-demo">

    <%= link_to fa_icon('search', text: '按日期查询'),
        trading_account_querying_by_date_path(@trading_account, @query_params),
        remote: true, class: 'btn btn-white' %>

    <div class="btn-group pull-right">
        <button type="button" class="btn btn-white dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        <%= fa_icon('cog', text: t('labels.operation')) %> <span class="caret"></span>
        </button>
        <ul class="dropdown-menu pull-right" role="menu">
            <li>
                <%= link_to fa_icon('pencil', text: t('models.edit', model: TradingAccount.model_name.human)),
                edit_trading_account_path(@trading_account, @query_params),
                remote: true %>
            </li>
            <li>
                <%= link_to fa_icon('refresh', text: t('models.refresh', model: TradingAccount.model_name.human)),
                trading_account_calculate_trading_summary_path(@trading_account, @query_params),
                remote: true, method: :post %>
            </li>
        </ul>
    </div>

    <div class="btn-group pull-right">
        <button type="button" class="btn btn-white dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
        <%= fa_icon('university', text: @exchange.nil? ? Exchange.model_name.human : @exchange.name) %> <span class="caret"></span>
        </button>
        <ul class="dropdown-menu pull-right" role="menu">
            <li>
                <%= link_to @exchange.nil? ? fa_icon('check', text: t('models.all', model: Exchange.model_name.human)) : 'All Exchanges', trading_account_path(@trading_account, @query_params.delete(:exchange)) %>
            </li>
            <% Exchange.all.each do |exchange| %>
            <li>
                <%= link_to (@exchange && exchange.id == @exchange.id) ? fa_icon('check', text: exchange.name) : exchange.name, trading_account_path(@trading_account, @query_params.merge(exchange_id: exchange.id)) %>
            </li>
            <% end %>
        </ul>
    </div>

</div>
<% end %>

<% content_for :anything_else do %>

<!-- Modal -->

<div class="modal fade" id="item-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
</div><!-- /.modal -->

<% end %>

<%= render partial: 'trading_account_highlights' %>

<div class="ibox">
    <div class="ibox-content" id="trading-account-show-page-content">

        <span id="trading-account-id" style="display:none;"><%= @trading_account.id %></span>

        <div class="row m-t-sm">
            <div class="col-lg-12">
                <div class="panel blank-panel">
                    <div class="panel-heading">
                        <div class="panel-options">
                            <ul class="nav nav-tabs">
                                <li class="active"><a href="#tab-0" data-toggle="tab"><%= t('navigation.tab.overview') %></a></li>
                                <li><a href="#tab-1" data-toggle="tab"><%= t('navigation.tab.position_summary') %></a></li>
                                <li><a href="#tab-2" data-toggle="tab"><%= t('navigation.tab.position_detail') %></a></li>
                                <li><a href="#tab-3" data-toggle="tab"><%= t('navigation.tab.trades') %></a></li>
                                <li><a href="#tab-4" data-toggle="tab"><%= t('navigation.tab.clearing.capital') %></a></li>
                                <li><a href="#tab-5" data-toggle="tab"><%= t(TradingAccountRiskPlan.model_name.human) %></a></li>
                                <li><a href="#tab-6" data-toggle="tab"><%= t(HolidayTradingAccountRiskPlan.model_name.human) %></a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel-body">

                        <div class="tab-content">
                            <div class="tab-pane active" id="tab-0">
                                <%= render partial: 'overview' %>
                            </div>
                            <div class="tab-pane" id="tab-1">
                                <%= render partial: 'position_summary' %>
                            </div>

                            <div class="tab-pane" id="tab-2">
                                <%= render partial: 'position_detail' %>
                            </div>

                            <div class="tab-pane" id="tab-3">
                                <%= render partial: 'trade_records' %>
                            </div>

                            <div class="tab-pane" id="tab-4">
                                <%= render partial: 'clearing_capital' %>
                            </div>

                            <div class="tab-pane" id="tab-5">
                                <%= render partial: 'risk_plans' %>
                            </div>

                            <div class="tab-pane" id="tab-6">
                                <%= render partial: 'holiday_risk_plans' %>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



